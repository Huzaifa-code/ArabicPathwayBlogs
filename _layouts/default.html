<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}
  <head>
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}" />
    <link rel="icon" href="{{ '/favicon.ico' | relative_url }}" type="image/x-icon" />
    <link rel="manifest" href="{{'/site.webmanifest' | relative_url}}"">
    <link rel="icon" type="image/png" sizes="32x32" href="{{'/favicon-32x32.png' | relative_url}}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{'/favicon-16x16.png' | relative_url}}">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    {% include analytics.html %}

  </head>

  <style>

  </style>

  <body>

    {%- include header.html -%}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    {%- include footer.html -%}


    <script src="{{ '/assets/js/simple-jekyll-search.min.js' | relative_url }}" ></script>
    <script>
      SimpleJekyllSearch({
          searchInput: document.getElementById('search-input'),
          resultsContainer: document.getElementById('results-container'),
          json: '{{ "/search.json" | relative_url }}',
          searchResultTemplate: '<li><a href="{url}"><h3>{title}</h3></a> <p>{description}</p> </li>',
          noResultsText: 'No results found',
          limit: 10
      });
    </script>

    <!-- Theme toggle  -->
    <script>
      const toggleButton = document.getElementById('theme-toggle');
      const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
      
      let body = document.querySelector("body")

      if (currentTheme) {
        // document.documentElement.setAttribute('data-theme', currentTheme);
        body.setAttribute('data-theme', currentTheme)
    
        if (currentTheme === 'dark') {
          toggleButton.textContent = '‚òÄÔ∏è'; // Change icon to sun for light mode
        }
      }
    
      toggleButton.addEventListener('click', function() {
        // let theme = document.documentElement.getAttribute('data-theme');
        let theme = body.getAttribute('data-theme');
        
        if (theme === 'dark-theme') {
          // document.documentElement.setAttribute('data-theme', 'light-theme');
          body.setAttribute('data-theme', 'light-theme');
          localStorage.setItem('theme', 'light');
          toggleButton.textContent = 'üåô'; // Change icon to moon for dark mode
        } else {
          // document.documentElement.setAttribute('data-theme', 'dark-theme');
          body.setAttribute('data-theme', 'dark-theme');
          localStorage.setItem('theme', 'dark');
          toggleButton.textContent = '‚òÄÔ∏è'; // Change icon to sun for light mode
        }
      });
    </script>

  </body>

</html>
